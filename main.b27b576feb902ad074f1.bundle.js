(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return PROGRESS_STATE}),__webpack_require__.d(__webpack_exports__,"b",function(){return OPARATION_NAME}),__webpack_require__.d(__webpack_exports__,"a",function(){return DEVICE_NAME});var PROGRESS_STATE=Object.freeze({IDLE:"IDLE",DETECTING_DEVICE:"DETECTING_DEVICE",DEVICE_FOUND:"DEVICE_FOUND"}),OPARATION_NAME=Object.freeze({NO_OPARATION:"no-oparation",TEST_READY:"is-ready",GET_LEDGER_VERSION:"ledger-get-version",GET_EXTENDED_PUBLIC_KEY:"ledger-get-extended-public-key",SIGN_TX:"ledger-sign-transaction",SHOW_ADDRESS:"ledger-show-address",DERIVE_ADDRESS:"ledger-derive-address"}),DEVICE_NAME=Object.freeze({NANO_S:"LedgerNanoS",NANO_X:"LedgerNanoX"})},191:function(module,exports){},205:function(module){module.exports=JSON.parse('{"a":"1.0.5"}')},208:function(module,exports,__webpack_require__){__webpack_require__(209),module.exports=__webpack_require__(516)},423:function(module,exports){},429:function(module,exports){},496:function(module,exports,__webpack_require__){var map={"./de-DE.json":497,"./en-US.json":498,"./es-ES.json":499,"./fr-FR.json":500,"./id-ID.json":501,"./it-IT.json":502,"./ja-JP.json":503,"./ko-KR.json":504,"./ru-RU.json":505,"./zh-Hans.json":506,"./zh-Hant.json":507};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(__webpack_require__.o(map,req))return map[req];var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,(module.exports=webpackContext).id=496},497:function(module){module.exports=JSON.parse('{"error.unexpectedError":"Etwas Unerwartetes ist passiert. Bitte versuche es erneut.","error.unknowError":"Unbekannter Fehler."}')},498:function(module){module.exports=JSON.parse('{"error.unexpectedError":"Something unexpected happened. Please retry.","error.unknowError":"Unknown error.","footer.version":"Version:","footer.transportId":"Transport:","webauthn.note":"A CANCEL button will appear here. Do not press it.","title.default":"Loading...","title.connect":"Connecting to ledger hardware wallet","title.sendTx":"Confirm transaction using ledger","wallet.title.ledgerNanoS":"Ledger Nano S","wallet.title.ledgerNanoX":"Ledger Nano X","title.verifyAddress":"Verify address","title.ledgerVersion":"Fetching Ledger device version","title.deriveAddress":"Deriving Address","oparation.top.ledgerDeviceInfo":"Perform the following actions on your Ledger device","hint.nanoS.common.pinCode":"Enter your PIN on your Ledger device, using the right and left buttons to select each number and then both buttons to confirm.","hint.nanoS.common.CardanoApp":"Highlight the \\"Cardano ADA\\" app on your Ledger and press both buttons.","hint.nanoS.connect.exportPublicKey":"Check your Ledger screen, then press both buttons.","hint.nanoS.connect.confirmExportPublicKey":"Confirm exporting the public key by pressing both buttons.","hint.nanoS.sendTx.startNewTx":"Check your Ledger screen, then press right button.","hint.nanoS.sendTx.confirmValue":"Confirm the ADA amount by pressing both buttons.","hint.nanoS.sendTx.confirmAddress":"Confirm the receiver\'s address by pressing both buttons.","hint.nanoS.sendTx.confirmFee":"Confirm Transaction Fee by pressing both buttons.","hint.nanoS.sendTx.confirmTx":"Confirm the transaction by pressing the right button.","hint.nanoS.verifyAddress.info":"Check your Ledger screen, then press both buttons.","hint.nanoS.verifyAddress.path":"Make sure the address path shown on your Ledger is the same as the one shown in Yoroi, then press both buttons.","hint.nanoS.verifyAddress.address":"Compare the address shown on your Ledger with the one shown here. Make sure they are the same, then press both buttons"}')},499:function(module){module.exports=JSON.parse('{"error.unexpectedError":"Sucedió algo inesperado. Por favor, reinténtelo.","error.unknowError":"Error desconocido."}')},500:function(module){module.exports=JSON.parse('{"error.unexpectedError":"Une erreur inconnue s\'est produite. Veuillez réessayer.","error.unknowError":"Erreur inconnue."}')},501:function(module){module.exports=JSON.parse('{"error.unexpectedError":"Sesuatu yang tak terduga terjadi. Coba lagi.","error.unknowError":"Terjadi kesalahan yang tidak diketahui."}')},502:function(module){module.exports=JSON.parse('{"error.unexpectedError":"E\' successo qualcosa di inaspettato. Riprovare, per favore.","error.unknowError":"Errore sconosciuto."}')},503:function(module){module.exports=JSON.parse('{"error.unexpectedError":"予期せぬエラーが発生しました。再試行してください。","error.unknowError":"不明なエラー。"}')},504:function(module){module.exports=JSON.parse('{"error.unexpectedError":"예상치 못한 일이 발생했습니다. 다시 시도해 주십시오.","error.unknowError":"알 수 없는 오류."}')},505:function(module){module.exports=JSON.parse('{"error.unexpectedError":"Случилось что-то непредвиденное. Пожалуйста, повторите попытку.","error.unknowError":"Неизвестная ошибка."}')},506:function(module){module.exports=JSON.parse('{"error.unexpectedError":"发生意外错误。请重试。","error.unknowError":"未知错误。"}')},507:function(module){module.exports=JSON.parse('{"error.unexpectedError":"意想不到的事情發生了。請重試。","error.unknowError":"未知錯誤。"}')},508:function(module,exports,__webpack_require__){var content=__webpack_require__(509);"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__(207)(content,options);content.locals&&(module.exports=content.locals)},509:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(206)(!0);var getUrl=__webpack_require__(510),___CSS_LOADER_URL___0___=getUrl(__webpack_require__(511)),___CSS_LOADER_URL___1___=getUrl(__webpack_require__(512)),___CSS_LOADER_URL___2___=getUrl(__webpack_require__(513)),___CSS_LOADER_URL___3___=getUrl(__webpack_require__(514)),___CSS_LOADER_URL___4___=getUrl(__webpack_require__(515));exports.push([module.i,"@font-face{font-family:'Rubik-Light';src:url("+___CSS_LOADER_URL___0___+") format(\"truetype\")}@font-face{font-family:'Rubik-Regular';src:url("+___CSS_LOADER_URL___1___+") format(\"truetype\")}@font-face{font-family:'Rubik-Medium';src:url("+___CSS_LOADER_URL___2___+") format(\"truetype\")}@font-face{font-family:'Rubik-Bold';src:url("+___CSS_LOADER_URL___3___+") format(\"truetype\")}@font-face{font-family:'Rubik-Black';src:url("+___CSS_LOADER_URL___4___+") format(\"truetype\")}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}html,body,#index-global_root,#index-global_root>[data-reactroot]{font-family:var(--default-font),serif;-webkit-font-smoothing:antialiased}*{box-sizing:border-box}*::-webkit-scrollbar{width:20px}*::-webkit-scrollbar-track{background-color:transparent}*::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb-background);border:7px solid transparent;border-radius:12px;background-clip:content-box}@keyframes index-global_loading-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}\n","",{version:3,sources:["/home/shin/repo/emurgo/yoroi-extension-ledger-connect/src/cmn-style/index.global.scss"],names:[],mappings:"AAIA,WACE,yBAA0B,CAC1B,oDAA8D,CAGhE,WACE,2BAA4B,CAC5B,oDAAgE,CAGlE,WACE,0BAA2B,CAC3B,oDAA+D,CAGjE,WACE,wBAAyB,CACzB,oDAA6D,CAG/D,WACE,yBAA0B,CAC1B,oDAA8D,CAMhE,2ZAaE,QAAS,CACT,SAAU,CACV,QAAS,CACT,cAAe,CAChB,8EAIC,aAAc,CACf,KAEC,aAAc,CACf,MAEC,eAAgB,CACjB,aAEC,WAAY,CACb,oDAGC,UAAW,CACX,YAAa,CACd,MAEC,wBAAyB,CACzB,gBAAiB,CAClB,iEAQC,qCAAuC,CACvC,kCAAmC,CACpC,EAGC,qBAAsB,CACvB,qBAMG,UAAW,CAFf,2BAMI,4BAA6B,CANjC,2BAUI,kDAAmD,CACnD,4BAA6B,CAC7B,kBAAmB,CACnB,2BAA4B,CAC7B,qCAMD,KAAO,sBAAuB,CAC9B,GAAK,wBAAyB,CAAA",file:"index.global.scss",sourcesContent:['// ============ FONTS ===========\n\n// Rubik [https://fonts.google.com/specimen/Rubik]\n\n@font-face {\n  font-family: \'Rubik-Light\';\n  src: url("../assets/fonts/Rubik-Light.ttf") format("truetype");\n}\n\n@font-face {\n  font-family: \'Rubik-Regular\';\n  src: url("../assets/fonts/Rubik-Regular.ttf") format("truetype");\n}\n\n@font-face {\n  font-family: \'Rubik-Medium\';\n  src: url("../assets/fonts/Rubik-Medium.ttf") format("truetype");\n}\n\n@font-face {\n  font-family: \'Rubik-Bold\';\n  src: url("../assets/fonts/Rubik-Bold.ttf") format("truetype");\n}\n\n@font-face {\n  font-family: \'Rubik-Black\';\n  src: url("../assets/fonts/Rubik-Black.ttf") format("truetype");\n}\n\n// ============ RESET HTML TAGS ===========\n// http://meyerweb.com/eric/tools/css/reset\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: \'\';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n\n// ============ CUTOMIZATION ===========\n\nhtml, body, #root, #root > [data-reactroot] {\n  // Make the default font ugly so we immediately see when something\n  // is not yet defined correctly in our UI\n  font-family: var(--default-font), serif;\n  -webkit-font-smoothing: antialiased;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n// ====== GLOBAL SCROLLBAR STYLE ======\n\n* {\n  &::-webkit-scrollbar {\n    width: 20px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--scrollbar-thumb-background);\n    border: 7px solid transparent;\n    border-radius: 12px;\n    background-clip: content-box;\n  }\n}\n\n// ======= RE-USABLE ANIMATIONS =======\n\n@keyframes loading-spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n']}]),exports.locals={root:"index-global_root","loading-spin":"index-global_loading-spin"}},511:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"7a06846baf7fd2cfb18c7ab4d663c8ca.ttf"},512:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"b3d0902b533ff4c4f1698a2f96ddabab.ttf"},513:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"c87313aa86b7caa31a9a0accaa584970.ttf"},514:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"9a6fb6f5cd3aa4ab1adaaab1f693f266.ttf"},515:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"fba2019b0b09731cc334297955971642.ttf"},516:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _dec,_class,_descriptor,_descriptor2,react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(73),react_dom_default=__webpack_require__.n(react_dom),mobx_module=__webpack_require__(2),mobx_react_module=__webpack_require__(136),index_es=__webpack_require__(93),en=__webpack_require__(193),en_default=__webpack_require__.n(en),ko=__webpack_require__(194),ko_default=__webpack_require__.n(ko),ja=__webpack_require__(195),ja_default=__webpack_require__.n(ja),zh=__webpack_require__(196),zh_default=__webpack_require__.n(zh),ru=__webpack_require__(197),ru_default=__webpack_require__.n(ru),de=__webpack_require__(198),de_default=__webpack_require__.n(de),fr=__webpack_require__(199),fr_default=__webpack_require__.n(fr),id=__webpack_require__(200),id_default=__webpack_require__.n(id),es=__webpack_require__(201),es_default=__webpack_require__.n(es),it=__webpack_require__(202),it_default=__webpack_require__.n(it);function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function pathToString(hdPath){return"m/".concat(hdPath.map(function(item){return item%2147483648+(2147483648<=item?"'":"")}).join("/"))}var ConnectStore_dec,_dec2,_dec3,_dec4,_dec5,ConnectStore_class,ConnectStore_descriptor,ConnectStore_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,ProfileStore_ProfileStore=(_dec=Object(mobx_module.d)("Changing Locale"),_descriptor=_applyDecoratedDescriptor((_class=function ProfileStore(locale,appVersion){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ProfileStore),_initializerDefineProperty(this,"currentLocale",_descriptor,this),this.appVersion=void 0,_initializerDefineProperty(this,"setLocale",_descriptor2,this),this.appVersion=appVersion,Object(mobx_module.m)(function(){_this.currentLocale=locale})}).prototype,"currentLocale",[mobx_module.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"setLocale",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this2=this;return function(locale){_this2.currentLocale=locale}}}),_class),Ada=__webpack_require__(54),Ada_default=__webpack_require__.n(Ada),TransportWebAuthn=__webpack_require__(203),TransportWebAuthn_default=__webpack_require__.n(TransportWebAuthn),TransportU2F=__webpack_require__(204),TransportU2F_default=__webpack_require__.n(TransportU2F),cmn=__webpack_require__(12),src_const=__webpack_require__(53);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function ConnectStore_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ConnectStore_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ConnectStore_ConnectStore=(ConnectStore_dec=Object(mobx_module.d)("Changing Transport"),_dec2=Object(mobx_module.d)("Changing Progress State"),_dec3=Object(mobx_module.d)("Changing Current Oparation Name"),_dec4=Object(mobx_module.d)("Changing device name"),_dec5=Object(mobx_module.d)("Change Verify Address Info"),ConnectStore_descriptor=ConnectStore_applyDecoratedDescriptor((ConnectStore_class=function(){function ConnectStore(transportId){var _this=this;!function ConnectStore_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConnectStore),ConnectStore_initializerDefineProperty(this,"transportId",ConnectStore_descriptor,this),ConnectStore_initializerDefineProperty(this,"progressState",ConnectStore_descriptor2,this),ConnectStore_initializerDefineProperty(this,"currentOparationName",_descriptor3,this),ConnectStore_initializerDefineProperty(this,"verifyAddressInfo",_descriptor4,this),ConnectStore_initializerDefineProperty(this,"deviceName",_descriptor5,this),this.userInteractableRequest=void 0,ConnectStore_initializerDefineProperty(this,"setTransport",_descriptor6,this),ConnectStore_initializerDefineProperty(this,"setProgressState",_descriptor7,this),ConnectStore_initializerDefineProperty(this,"setCurrentOparationName",_descriptor8,this),ConnectStore_initializerDefineProperty(this,"setDeviceName",_descriptor9,this),ConnectStore_initializerDefineProperty(this,"setVerifyAddressInfo",_descriptor10,this),this._addMessageEventListeners=function(){var processMessage=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var source,params,actn;return regeneratorRuntime.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!e||!e.data||e.data.target!==src_const.d){_context.next=17;break}source=e.source,params=e.data.params,actn=e.data.action,_this._closeOnSorceClosed(source),console.debug("[YLC]::request: ".concat(actn)),_context.t0=actn,_context.next=_context.t0===cmn.b.TEST_READY?9:_context.t0===cmn.b.GET_LEDGER_VERSION?11:_context.t0===cmn.b.GET_EXTENDED_PUBLIC_KEY?11:_context.t0===cmn.b.SIGN_TX?11:_context.t0===cmn.b.SHOW_ADDRESS?11:_context.t0===cmn.b.DERIVE_ADDRESS?11:14;break;case 9:return _this.testReady(source,actn),_context.abrupt("break",15);case 11:return _this.setCurrentOparationName(actn),_this.userInteractableRequest||(_this.userInteractableRequest={params:params,action:actn,source:source}),_context.abrupt("break",15);case 14:return _context.abrupt("break",15);case 15:_context.next=18;break;case 17:console.debug("Got non ledger connectore request: ".concat(e.origin,"}"));case 18:case"end":return _context.stop()}},_callee)}));return function processMessage(_x){return _ref.apply(this,arguments)}}();window.addEventListener("message",processMessage,!1)},this._replyMessage=function(source,msg){source?(msg.action="".concat(msg.action,"-reply"),source.postMessage(msg,"*")):console.debug("[YOROI-LB]::_replyMessage::No Source window provided")},this._makeTransport=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var transport;return regeneratorRuntime.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if("webauthn"!==_this.transportId){_context2.next=4;break}transport=TransportWebAuthn_default.a,_context2.next=9;break;case 4:if("u2f"!==_this.transportId){_context2.next=8;break}transport=TransportU2F_default.a,_context2.next=9;break;case 8:throw new Error("Transport protocol not supported");case 9:return _context2.next=11,transport.create();case 11:return _context2.abrupt("return",_context2.sent);case 12:case"end":return _context2.stop()}},_callee2)})),this._detectLedgerDevice=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(transport){var adaApp,verResp;return regeneratorRuntime.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _this.setProgressState(cmn.c.DETECTING_DEVICE),adaApp=new Ada_default.a(transport),_context3.next=4,adaApp.getVersion();case 4:return verResp=_context3.sent,_this.setProgressState(cmn.c.DEVICE_FOUND),_context3.abrupt("return",verResp);case 7:case"end":return _context3.stop()}},_callee3)}));return function(_x2){return _ref3.apply(this,arguments)}}(),this.testReady=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(source,actn){return regeneratorRuntime.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:try{console.debug("[YOROI-LB]::testReady::".concat(actn)),_this._replyMessage(source,{action:actn,success:!0,payload:!0})}catch(err){console.error("[YOROI-LB]::testReady::".concat(actn,"::error::").concat(JSON.stringify(err))),_this._replyMessage(source,{action:actn,success:!1,payload:{error:err.toString()}})}case 1:case"end":return _context4.stop()}},_callee4)}));return function(_x3,_x4){return _ref4.apply(this,arguments)}}(),this.executeActionWithCustomRequest=function(deviceName,request){_this.userInteractableRequest=request,_this.executeAction(deviceName)},this.executeAction=function(deviceName){_this.setDeviceName(deviceName);var actn=_this.userInteractableRequest.action,source=_this.userInteractableRequest.source,params=_this.userInteractableRequest.params;switch(actn){case cmn.b.GET_LEDGER_VERSION:_this.getVersion(source,actn);break;case cmn.b.GET_EXTENDED_PUBLIC_KEY:_this.getExtendedPublicKey(source,actn,params.hdPath);break;case cmn.b.SIGN_TX:_this.signTransaction(source,actn,params.inputs,params.outputs);break;case cmn.b.SHOW_ADDRESS:_this.showAddress(source,actn,params.hdPath,params.address);break;case cmn.b.DERIVE_ADDRESS:_this.deriveAddress(source,actn,params.hdPath)}},this.getVersion=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(source,actn){var transport,adaApp,res,e;return regeneratorRuntime.wrap(function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,_this._makeTransport();case 3:return transport=_context5.sent,adaApp=new Ada_default.a(transport),_context5.next=7,adaApp.getVersion();case 7:return res=_context5.sent,_this._replyMessage(source,{action:actn,success:!0,payload:res}),_context5.abrupt("return",res);case 12:_context5.prev=12,_context5.t0=_context5.catch(0),console.error("[YOROI-LB]::getVersion::".concat(actn,"::error::").concat(JSON.stringify(_context5.t0))),e=_this._ledgerErrToMessage(_context5.t0),_this._replyMessage(source,{action:actn,success:!1,payload:{error:e.toString()}});case 17:return _context5.prev=17,transport&&transport.close(),_context5.finish(17);case 20:case"end":return _context5.stop()}},_callee5,null,[[0,12,17,20]])}));return function(_x5,_x6){return _ref5.apply(this,arguments)}}(),this.getExtendedPublicKey=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(source,actn,hdPath){var transport,adaApp,res,e;return regeneratorRuntime.wrap(function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,_this._makeTransport();case 3:return transport=_context6.sent,_context6.next=6,_this._detectLedgerDevice(transport);case 6:return _context6.sent,adaApp=new Ada_default.a(transport),_context6.next=10,adaApp.getExtendedPublicKey(hdPath);case 10:return res=_context6.sent,_this._replyMessage(source,{action:actn,success:!0,payload:res}),_context6.abrupt("return",res);case 15:_context6.prev=15,_context6.t0=_context6.catch(0),console.error("[YOROI-LB]::getExtendedPublicKey::".concat(actn,"::error::").concat(JSON.stringify(_context6.t0))),e=_this._ledgerErrToMessage(_context6.t0),_this._replyMessage(source,{action:actn,success:!1,payload:{error:e.toString()}});case 20:return _context6.prev=20,transport&&transport.close(),_context6.finish(20);case 23:case"end":return _context6.stop()}},_callee6,null,[[0,15,20,23]])}));return function(_x7,_x8,_x9){return _ref6.apply(this,arguments)}}(),this.signTransaction=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(source,actn,inputs,outputs){var transport,adaApp,res,e;return regeneratorRuntime.wrap(function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,_this._makeTransport();case 3:return transport=_context7.sent,_context7.next=6,_this._detectLedgerDevice(transport);case 6:return adaApp=new Ada_default.a(transport),_context7.next=9,adaApp.signTransaction(inputs,outputs);case 9:return res=_context7.sent,_this._replyMessage(source,{action:actn,success:!0,payload:res}),_context7.abrupt("return",res);case 14:_context7.prev=14,_context7.t0=_context7.catch(0),console.error("[YOROI-LB]::signTransaction::".concat(actn,"::error::").concat(JSON.stringify(_context7.t0))),e=_this._ledgerErrToMessage(_context7.t0),_this._replyMessage(source,{action:actn,success:!1,payload:{error:e.toString()}});case 19:return _context7.prev=19,transport&&transport.close(),_context7.finish(19);case 22:case"end":return _context7.stop()}},_callee7,null,[[0,14,19,22]])}));return function(_x10,_x11,_x12,_x13){return _ref7.apply(this,arguments)}}(),this.showAddress=function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(source,actn,hdPath,address){var transport,adaApp,res,e;return regeneratorRuntime.wrap(function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_this.setVerifyAddressInfo({address:address,hdPath:pathToString(hdPath)}),_context8.next=4,_this._makeTransport();case 4:return transport=_context8.sent,_context8.next=7,_this._detectLedgerDevice(transport);case 7:return adaApp=new Ada_default.a(transport),_context8.next=10,adaApp.showAddress(hdPath);case 10:res=_context8.sent,_this._replyMessage(source,{action:actn,success:!0,payload:res}),_context8.next=19;break;case 14:_context8.prev=14,_context8.t0=_context8.catch(0),console.error("[YOROI-LB]::showAddress::".concat(actn,"::error::").concat(JSON.stringify(_context8.t0))),e=_this._ledgerErrToMessage(_context8.t0),_this._replyMessage(source,{action:actn,success:!1,payload:{error:e.toString()}});case 19:return _context8.prev=19,transport&&transport.close(),_context8.finish(19);case 22:case"end":return _context8.stop()}},_callee8,null,[[0,14,19,22]])}));return function(_x14,_x15,_x16,_x17){return _ref8.apply(this,arguments)}}(),this.deriveAddress=function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(source,actn,hdPath){var transport,adaApp,res,e;return regeneratorRuntime.wrap(function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,_this._makeTransport();case 3:return transport=_context9.sent,_context9.next=6,_this._detectLedgerDevice(transport);case 6:return adaApp=new Ada_default.a(transport),_context9.next=9,adaApp.deriveAddress(hdPath);case 9:return res=_context9.sent,_this._replyMessage(source,{action:actn,success:!0,payload:res}),_context9.abrupt("return",res);case 14:_context9.prev=14,_context9.t0=_context9.catch(0),console.error("[YOROI-LB]::deriveAddress::".concat(actn,"::error::").concat(JSON.stringify(_context9.t0))),e=_this._ledgerErrToMessage(_context9.t0),_this._replyMessage(source,{action:actn,success:!1,payload:{error:e.toString()}});case 19:return _context9.prev=19,transport&&transport.close(),_context9.finish(19);case 22:case"end":return _context9.stop()}},_callee9,null,[[0,14,19,22]])}));return function(_x18,_x19,_x20){return _ref9.apply(this,arguments)}}(),this._closeOnSorceClosed=function(source){setInterval(function(){source.closed&&window.close()},1e3)},this._ledgerErrToMessage=function(err){return function isU2FError(error){return!!error&&!!error.metaData}(err)?5===err.metaData.code?"LEDGER_TIMEOUT":err.metaData.type:function isStringError(error){return"string"==typeof error}(err)?err.includes("6804")?"LEDGER_WRONG_APP":err.includes("6801")?"LEDGER_LOCKED":err:function isErrorWithId(error){return Object.prototype.hasOwnProperty.call(error,"id")&&Object.prototype.hasOwnProperty.call(error,"message")}(err)&&err.message.includes("U2F not supported")?"U2F_NOT_SUPPORTED":err.toString()},this._addMessageEventListeners(),Object(mobx_module.m)(function(){_this.transportId=transportId,_this.progressState=cmn.c.IDLE,_this.currentOparationName=cmn.b.NO_OPARATION})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ConnectStore,[{key:"isTransportWebAuthn",get:function get(){return"webauthn"===this.transportId}},{key:"isTransportU2F",get:function get(){return"u2f"===this.transportId}}]),ConnectStore}()).prototype,"transportId",[mobx_module.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ConnectStore_descriptor2=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"progressState",[mobx_module.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor3=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"currentOparationName",[mobx_module.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor4=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"verifyAddressInfo",[mobx_module.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor5=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"deviceName",[mobx_module.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"isTransportWebAuthn",[mobx_module.e],Object.getOwnPropertyDescriptor(ConnectStore_class.prototype,"isTransportWebAuthn"),ConnectStore_class.prototype),ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"isTransportU2F",[mobx_module.e],Object.getOwnPropertyDescriptor(ConnectStore_class.prototype,"isTransportU2F"),ConnectStore_class.prototype),_descriptor6=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"setTransport",[ConnectStore_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this2=this;return function(transportId){_this2.transportId=transportId}}}),_descriptor7=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"setProgressState",[_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this3=this;return function(progressState){_this3.progressState=progressState}}}),_descriptor8=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"setCurrentOparationName",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this4=this;return function(currentOparationName){_this4.currentOparationName=currentOparationName}}}),_descriptor9=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"setDeviceName",[_dec4],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this5=this;return function(deviceName){_this5.deviceName=deviceName}}}),_descriptor10=ConnectStore_applyDecoratedDescriptor(ConnectStore_class.prototype,"setVerifyAddressInfo",[_dec5],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this6=this;return function(verifyAddressInfo){_this6.verifyAddressInfo=verifyAddressInfo}}}),ConnectStore_class),req=__webpack_require__(496),translations={},SUPPORTED_LOCALS=[];req.keys().forEach(function(file){var locale=file.replace("./","").replace(".json","");SUPPORTED_LOCALS.push(locale),translations[locale]=req(file)});var package_0=__webpack_require__(205);var App_class,style_variables={"--default-font":"Rubik-Regular","--font-light":"Rubik-Light","--font-regular":"Rubik-Regular","--font-medium":"Rubik-Medium","--font-bold":"Rubik-Bold","--font-black":"Rubik-Black","--layout-top-gap":"0px","--webauthn-layout-top-gap":"300px","--scrollbar-thumb-background":"#c8ccce"};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function App_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object(index_es.b)([].concat(_toConsumableArray(en_default.a),_toConsumableArray(ko_default.a),_toConsumableArray(ja_default.a),_toConsumableArray(zh_default.a),_toConsumableArray(ru_default.a),_toConsumableArray(de_default.a),_toConsumableArray(fr_default.a),_toConsumableArray(id_default.a),_toConsumableArray(es_default.a),_toConsumableArray(it_default.a)));var ConnectPage=Object(react.lazy)(function(){return __webpack_require__.e(3).then(__webpack_require__.bind(null,570))}),StyleVariableLoader=Object(react.lazy)(function(){return Promise.all([__webpack_require__.e(4),__webpack_require__.e(5)]).then(__webpack_require__.bind(null,569))}),App_App=Object(mobx_react_module.a)(App_class=function(){function App(){return function App_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,App),_possibleConstructorReturn(this,_getPrototypeOf(App).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(App,react_default.a.Component),function App_createClass(Constructor,protoProps,staticProps){return protoProps&&App_defineProperties(Constructor.prototype,protoProps),staticProps&&App_defineProperties(Constructor,staticProps),Constructor}(App,[{key:"render",value:function render(){var locale=this.props.rootStore.profileStore.currentLocale,mergedMessages=Object.assign({},translations[src_const.a],translations[locale]);return react_default.a.createElement("div",null,react_default.a.createElement(react.Suspense,{fallback:react_default.a.createElement("div",null,"Loading...")},react_default.a.createElement(StyleVariableLoader,{variables:style_variables}),react_default.a.createElement(index_es.a,{locale:locale,key:locale,messages:mergedMessages},react_default.a.createElement(ConnectPage,{rootStore:this.props.rootStore}))))}}]),App}())||App_class;__webpack_require__(508);Object(mobx_module.f)({enforceActions:"always"});var root=document.querySelector("#root");null!==root?(console.debug("[YLC] Loading React..."),react_dom_default.a.render(react_default.a.createElement(App_App,{rootStore:new function RootStore(){!function stores_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RootStore),this.profileStore=void 0,this.connectStore=void 0,this.parseURLParams=function(){var urlParams=new URLSearchParams(window.location.search),p={transportId:urlParams.get("transport")||"",locale:urlParams.get("locale")||""};return null!=p.transportId&&""!==p.transportId||(p.transportId=src_const.b),null!=p.locale&&""!==p.locale&&SUPPORTED_LOCALS.includes(p.locale)||(p.locale=src_const.a),p};var _urlParams=this.parseURLParams();this.profileStore=new ProfileStore_ProfileStore(_urlParams.locale,package_0.a),this.connectStore=new ConnectStore_ConnectStore(_urlParams.transportId)}}),root)):console.error("[YLC] could not find React inject tag")},53:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return YOROI_LEDGER_CONNECT_TARGET_NAME}),__webpack_require__.d(__webpack_exports__,"b",function(){return DEFAULT_TRANSPORT_PROTOCOL}),__webpack_require__.d(__webpack_exports__,"a",function(){return DEFAULT_LOCALE}),__webpack_require__.d(__webpack_exports__,"c",function(){return ENV});var YOROI_LEDGER_CONNECT_TARGET_NAME="YOROI-LEDGER-CONNECT",DEFAULT_TRANSPORT_PROTOCOL="webauthn",DEFAULT_LOCALE="en-US",ENV={isProduction:!0,isDevelopment:!1}}},[[208,1,2]]]);